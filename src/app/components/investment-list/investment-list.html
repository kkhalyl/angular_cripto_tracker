<mat-card *ngFor="let inv of investments" class="investment-card">
  
  <mat-card-title>{{ inv.quantity }} {{ inv.cryptoSymbol }}</mat-card-title>
  <mat-card-subtitle>{{ inv.cryptoId | titlecase }}</mat-card-subtitle>
  
  <mat-divider></mat-divider>
  
  <mat-list>
    <mat-list-item>
      <span class="label">Purchased at:</span>
      <span>R$ {{ inv.purchasePrice | number:'1.2-2' }}</span>
    </mat-list-item>
    
    <mat-list-item *ngIf="inv.currentPrice !== undefined">
      <span class="label">Current Price:</span>
      <span>R$ {{ inv.currentPrice | number:'1.2-2' }}</span>
    </mat-list-item>
    
    <mat-list-item *ngIf="inv.profitOrLoss !== undefined" [ngClass]="{'profit': inv.profitOrLoss >= 0, 'loss': inv.profitOrLoss < 0}">
      <span class="label">P/L:</span>
      <span>{{ inv.profitOrLoss | number:'1.2-2' }}%</span>
    </mat-list-item>
  </mat-list>

  <div *ngIf="isLoading" class="spinner-container">
  <mat-spinner></mat-spinner>
</div>

<div *ngIf="errorMessage" class="error-container">
  <mat-card class="error-card">
    <mat-card-title>An Error Occurred</mat-card-title>
    <mat-card-content>{{ errorMessage }}</mat-card-content>
  </mat-card>
</div>

<div *ngIf="!isLoading && !errorMessage">
  <mat-card *ngFor="let inv of investments" class="investment-card">
    <mat-card-title>{{ inv.quantity }} {{ inv.cryptoSymbol }}</mat-card-title>
    <mat-card-subtitle>{{ inv.cryptoId | titlecase }}</mat-card-subtitle>
    <mat-divider></mat-divider>
    <mat-list>
      <mat-list-item>
        <span class="label">Purchased at:</span>
        <span>R$ {{ inv.purchasePrice | number:'1.2-2' }}</span>
      </mat-list-item>
      <mat-list-item *ngIf="inv.currentPrice !== undefined">
        <span class="label">Current Price:</span>
        <span>R$ {{ inv.currentPrice | number:'1.2-2' }}</span>
      </mat-list-item>
      <mat-list-item *ngIf="inv.profitOrLoss !== undefined" [ngClass]="{'profit': inv.profitOrLoss >= 0, 'loss': inv.profitOrLoss < 0}">
        <span class="label">P/L:</span>
        <span>{{ inv.profitOrLoss | number:'1.2-2' }}%</span>
      </mat-list-item>
    </mat-list>
  </mat-card>
</div>

</mat-card>